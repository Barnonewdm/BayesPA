
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: package medlda</title>
<meta charset="utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>medlda</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/Volumes/Universe/Research/ML/BayesPA/code release/medlda/__init__.py">/Volumes/Universe/Research/ML/BayesPA/code release/medlda/__init__.py</a></font></td></tr></table>
    <p></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Package Contents</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top></td><td width="25%" valign=top></td><td width="25%" valign=top></td><td width="25%" valign=top></td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="medlda.html#OnlineGibbsMedLDA">OnlineGibbsMedLDA</a>
</font></dt></dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="OnlineGibbsMedLDA">class <strong>OnlineGibbsMedLDA</strong></a></font></td></tr>
    
<tr><td bgcolor="#ffc8d8"><tt>&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="OnlineGibbsMedLDA-__check__"><strong>__check__</strong></a>(me, docs, labels)</dt><dd><tt>private&nbsp;method,&nbsp;<br>
the&nbsp;method&nbsp;checks&nbsp;if&nbsp;each&nbsp;word&nbsp;in&nbsp;the&nbsp;docs&nbsp;is&nbsp;in&nbsp;me.words&nbsp;and&nbsp;every&nbsp;label&nbsp;in&nbsp;labels&nbsp;is&nbsp;in&nbsp;me.labels</tt></dd></dl>

<dl><dt><a name="OnlineGibbsMedLDA-__init__"><strong>__init__</strong></a>(me, num_topic, labels, words, alpha<font color="#909090">=0.5</font>, beta<font color="#909090">=0.45</font>, c<font color="#909090">=1</font>, l<font color="#909090">=164</font>, v<font color="#909090">=1</font>, I<font color="#909090">=1</font>, J<font color="#909090">=3</font>)</dt><dd><tt>initialize&nbsp;the&nbsp;online&nbsp;Gibbs&nbsp;MedLDA&nbsp;model.&nbsp;<br>
&nbsp;<br>
Parameters<br>
______________<br>
num_topic:&nbsp;int<br>
&nbsp;&nbsp;the&nbsp;number&nbsp;of&nbsp;topics&nbsp;in&nbsp;LDA.&nbsp;<br>
labels:&nbsp;list&nbsp;of&nbsp;object<br>
&nbsp;&nbsp;the&nbsp;set&nbsp;of&nbsp;potential&nbsp;labels&nbsp;for&nbsp;the&nbsp;documents.<br>
&nbsp;&nbsp;if&nbsp;given&nbsp;an&nbsp;integer&nbsp;L,&nbsp;then&nbsp;it&nbsp;assumes&nbsp;the&nbsp;labels&nbsp;are&nbsp;[0&nbsp;...&nbsp;L-1]<br>
words:&nbsp;list&nbsp;of&nbsp;object<br>
&nbsp;&nbsp;the&nbsp;set&nbsp;of&nbsp;potential&nbsp;words&nbsp;in&nbsp;the&nbsp;documents.<br>
&nbsp;&nbsp;if&nbsp;given&nbsp;an&nbsp;integer&nbsp;T,&nbsp;then&nbsp;it&nbsp;assumes&nbsp;the&nbsp;words&nbsp;are&nbsp;[0&nbsp;...&nbsp;T-1]<br>
&nbsp;<br>
Optional&nbsp;Parameters<br>
_____________<br>
I:&nbsp;int,&nbsp;default&nbsp;=&nbsp;1<br>
&nbsp;&nbsp;number&nbsp;of&nbsp;mean-field&nbsp;rounds&nbsp;for&nbsp;each&nbsp;BayesPA&nbsp;update.<br>
J:&nbsp;int,&nbsp;default&nbsp;=&nbsp;3<br>
&nbsp;&nbsp;number&nbsp;of&nbsp;Gibbs&nbsp;samples&nbsp;in&nbsp;the&nbsp;mean-field&nbsp;update&nbsp;of&nbsp;latent&nbsp;variables&nbsp;(substract&nbsp;J_burnin)<br>
alpha:&nbsp;double,&nbsp;default&nbsp;=&nbsp;0.5<br>
&nbsp;&nbsp;prior&nbsp;of&nbsp;document&nbsp;topic&nbsp;distribution.<br>
beta:&nbsp;double,&nbsp;default&nbsp;=&nbsp;0.45&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;prior&nbsp;of&nbsp;dictionary.<br>
c:&nbsp;double,&nbsp;default&nbsp;=&nbsp;1<br>
&nbsp;&nbsp;regularization&nbsp;parameter&nbsp;of&nbsp;hinge-loss.<br>
l:&nbsp;double,&nbsp;default&nbsp;=&nbsp;164,&nbsp;<br>
&nbsp;&nbsp;margin&nbsp;parameter&nbsp;of&nbsp;hinge-loss.<br>
v:&nbsp;double,&nbsp;default&nbsp;=&nbsp;1&nbsp;<br>
&nbsp;&nbsp;prior&nbsp;weight&nbsp;\sim&nbsp;N(0,&nbsp;v^2).<br>
&nbsp;<br>
Returns<br>
_____________<br>
the&nbsp;<a href="#OnlineGibbsMedLDA">OnlineGibbsMedLDA</a>&nbsp;object.<br>
&nbsp;<br>
Examples<br>
_____________<br>
&gt;&gt;&gt;&nbsp;medlda&nbsp;=&nbsp;<a href="#OnlineGibbsMedLDA">OnlineGibbsMedLDA</a>(5,&nbsp;[0,&nbsp;1],&nbsp;["athesim",&nbsp;"god",&nbsp;"beings"])<br>
&gt;&gt;&gt;&nbsp;medlda&nbsp;=&nbsp;<a href="#OnlineGibbsMedLDA">OnlineGibbsMedLDA</a>(5,&nbsp;2,&nbsp;3)</tt></dd></dl>

<dl><dt><a name="OnlineGibbsMedLDA-infer"><strong>infer</strong></a>(me, docs, labels<font color="#909090">=[]</font>, num_sample<font color="#909090">=100</font>)</dt><dd><tt>use&nbsp;current&nbsp;MedLDA&nbsp;to&nbsp;classify&nbsp;on&nbsp;new&nbsp;corpus.<br>
&nbsp;<br>
&nbsp;<br>
Parameters&nbsp;<br>
________________<br>
&nbsp;<br>
docs:&nbsp;list<br>
&nbsp;&nbsp;each&nbsp;doc&nbsp;in&nbsp;the&nbsp;list&nbsp;is&nbsp;by&nbsp;itself&nbsp;a&nbsp;list&nbsp;of&nbsp;words.<br>
labels:&nbsp;list,&nbsp;default&nbsp;=&nbsp;[]<br>
&nbsp;&nbsp;a&nbsp;list&nbsp;of&nbsp;corresponding&nbsp;labels.<br>
num_sample:&nbsp;int,&nbsp;default&nbsp;=&nbsp;100,<br>
&nbsp;&nbsp;number&nbsp;of&nbsp;sample&nbsp;used&nbsp;to&nbsp;approximate&nbsp;the&nbsp;posterior.<br>
&nbsp;<br>
&nbsp;<br>
Return<br>
________________<br>
if&nbsp;labels&nbsp;=&nbsp;[],&nbsp;return&nbsp;(predict_labels,&nbsp;index)&nbsp;<br>
&nbsp;&nbsp;predict_labels:&nbsp;list<br>
&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;list&nbsp;of&nbsp;predicted&nbsp;labels&nbsp;for&nbsp;each&nbsp;document.<br>
&nbsp;&nbsp;index:<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;indices&nbsp;of&nbsp;docs&nbsp;each&nbsp;prediction&nbsp;corresponds&nbsp;to.<br>
&nbsp;<br>
if&nbsp;labels&nbsp;is&nbsp;not&nbsp;empty,&nbsp;return&nbsp;(predict_labels,&nbsp;index,&nbsp;acc)<br>
&nbsp;&nbsp;predict_labels:&nbsp;list<br>
&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;list&nbsp;of&nbsp;predicted&nbsp;labels&nbsp;for&nbsp;each&nbsp;document.<br>
&nbsp;&nbsp;index:<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;indices&nbsp;of&nbsp;docs&nbsp;each&nbsp;prediction&nbsp;corresponds&nbsp;to.<br>
&nbsp;&nbsp;acc:<br>
&nbsp;&nbsp;&nbsp;&nbsp;test&nbsp;accuracy.</tt></dd></dl>

<dl><dt><a name="OnlineGibbsMedLDA-infer_with_gml"><strong>infer_with_gml</strong></a>(me, path, num_sample)</dt><dd><tt>use&nbsp;current&nbsp;MedLDA&nbsp;to&nbsp;classify&nbsp;on&nbsp;.gml&nbsp;file,&nbsp;which&nbsp;has&nbsp;the&nbsp;following&nbsp;format:<br>
&nbsp;<br>
&nbsp;&nbsp;line&nbsp;0:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;N&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;&nbsp;N&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;documents.<br>
&nbsp;&nbsp;line&nbsp;1...N:&nbsp;M&nbsp;L&nbsp;w_1&nbsp;w_2&nbsp;w_3&nbsp;...&nbsp;w_M&nbsp;;&nbsp;L&nbsp;is&nbsp;the&nbsp;label&nbsp;of&nbsp;the&nbsp;document,&nbsp;w_1,&nbsp;...,&nbsp;w_M&nbsp;are&nbsp;words.<br>
&nbsp;<br>
&nbsp;<br>
Parameters&nbsp;<br>
________________<br>
&nbsp;<br>
path:<br>
&nbsp;&nbsp;path&nbsp;of&nbsp;the&nbsp;.gml&nbsp;file.<br>
num_sample:&nbsp;int,&nbsp;default&nbsp;=&nbsp;100,<br>
&nbsp;&nbsp;number&nbsp;of&nbsp;sample&nbsp;used&nbsp;to&nbsp;approximate&nbsp;the&nbsp;posterior.<br>
&nbsp;<br>
&nbsp;<br>
Return<br>
________________<br>
if&nbsp;labels&nbsp;=&nbsp;[],&nbsp;return&nbsp;(predict_labels,&nbsp;index)&nbsp;<br>
&nbsp;&nbsp;predict_labels:&nbsp;list<br>
&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;list&nbsp;of&nbsp;predicted&nbsp;labels&nbsp;for&nbsp;each&nbsp;document.<br>
&nbsp;&nbsp;index:<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;indices&nbsp;of&nbsp;docs&nbsp;each&nbsp;prediction&nbsp;corresponds&nbsp;to.<br>
&nbsp;<br>
if&nbsp;labels&nbsp;is&nbsp;not&nbsp;empty,&nbsp;return&nbsp;(predict_labels,&nbsp;index,&nbsp;acc)<br>
&nbsp;&nbsp;predict_labels:&nbsp;list<br>
&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;list&nbsp;of&nbsp;predicted&nbsp;labels&nbsp;for&nbsp;each&nbsp;document.<br>
&nbsp;&nbsp;index:<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;indices&nbsp;of&nbsp;docs&nbsp;each&nbsp;prediction&nbsp;corresponds&nbsp;to.<br>
&nbsp;&nbsp;acc:<br>
&nbsp;&nbsp;&nbsp;&nbsp;test&nbsp;accuracy.</tt></dd></dl>

<dl><dt><a name="OnlineGibbsMedLDA-train"><strong>train</strong></a>(me, docs, labels)</dt><dd><tt>train&nbsp;the&nbsp;model&nbsp;with&nbsp;a&nbsp;mini-batch.<br>
the&nbsp;method&nbsp;checks&nbsp;if&nbsp;each&nbsp;word&nbsp;in&nbsp;the&nbsp;docs&nbsp;is&nbsp;in&nbsp;me.words&nbsp;and&nbsp;every&nbsp;label&nbsp;in&nbsp;labels&nbsp;is&nbsp;in&nbsp;me.labels<br>
it&nbsp;removes&nbsp;those&nbsp;words/labels&nbsp;not&nbsp;satisfying&nbsp;the&nbsp;requirement.&nbsp;if&nbsp;so,&nbsp;it&nbsp;emits&nbsp;a&nbsp;warning.<br>
&nbsp;<br>
Parameters<br>
______________<br>
docs:&nbsp;list<br>
&nbsp;&nbsp;each&nbsp;doc&nbsp;in&nbsp;the&nbsp;list&nbsp;is&nbsp;by&nbsp;itself&nbsp;a&nbsp;list&nbsp;of&nbsp;words.<br>
labels:&nbsp;list<br>
&nbsp;&nbsp;a&nbsp;list&nbsp;of&nbsp;corresponding&nbsp;labels.</tt></dd></dl>

<dl><dt><a name="OnlineGibbsMedLDA-train_with_dataset"><strong>train_with_dataset</strong></a>(me, docs, labels, batchsize)</dt><dd><tt>train&nbsp;the&nbsp;model&nbsp;on&nbsp;a&nbsp;dataset&nbsp;with&nbsp;given&nbsp;batchsize&nbsp;and&nbsp;one&nbsp;pass.<br>
the&nbsp;method&nbsp;checks&nbsp;if&nbsp;each&nbsp;word&nbsp;in&nbsp;the&nbsp;docs&nbsp;is&nbsp;in&nbsp;me.words&nbsp;and&nbsp;every&nbsp;label&nbsp;in&nbsp;labels&nbsp;is&nbsp;in&nbsp;me.labels<br>
it&nbsp;removes&nbsp;those&nbsp;words/labels&nbsp;not&nbsp;satisfying&nbsp;the&nbsp;requirement.&nbsp;if&nbsp;so,&nbsp;it&nbsp;emits&nbsp;a&nbsp;warning.<br>
&nbsp;<br>
the&nbsp;method&nbsp;iteratively&nbsp;chooses&nbsp;a&nbsp;mini-batch&nbsp;from&nbsp;(docs,&nbsp;labels)&nbsp;of&nbsp;batchsize&nbsp;without&nbsp;replace<br>
until&nbsp;all&nbsp;(docs,&nbsp;labels)&nbsp;have&nbsp;been&nbsp;chosen.<br>
&nbsp;<br>
Parameters<br>
______________<br>
docs:&nbsp;list<br>
&nbsp;&nbsp;each&nbsp;doc&nbsp;in&nbsp;the&nbsp;list&nbsp;is&nbsp;by&nbsp;itself&nbsp;a&nbsp;list&nbsp;of&nbsp;words.<br>
labels:&nbsp;list<br>
&nbsp;&nbsp;a&nbsp;list&nbsp;of&nbsp;corresponding&nbsp;labels.<br>
batchsize:&nbsp;int<br>
&nbsp;&nbsp;the&nbsp;mini-batch&nbsp;size</tt></dd></dl>

<dl><dt><a name="OnlineGibbsMedLDA-train_with_gml"><strong>train_with_gml</strong></a>(me, path, batchsize)</dt><dd><tt>train&nbsp;the&nbsp;model&nbsp;using&nbsp;.gml&nbsp;file,&nbsp;which&nbsp;has&nbsp;the&nbsp;following&nbsp;format:<br>
&nbsp;&nbsp;line&nbsp;0:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;N&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;&nbsp;N&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;documents.<br>
&nbsp;&nbsp;line&nbsp;1...N:&nbsp;M&nbsp;L&nbsp;w_1&nbsp;w_2&nbsp;w_3&nbsp;...&nbsp;w_M&nbsp;;&nbsp;L&nbsp;is&nbsp;the&nbsp;label&nbsp;of&nbsp;the&nbsp;document,&nbsp;w_1,&nbsp;...,&nbsp;w_M&nbsp;are&nbsp;words.<br>
&nbsp;<br>
the&nbsp;method&nbsp;iteratively&nbsp;chooses&nbsp;a&nbsp;mini-batch&nbsp;from&nbsp;(docs,&nbsp;labels)&nbsp;of&nbsp;batchsize&nbsp;without&nbsp;replace<br>
until&nbsp;all&nbsp;(docs,&nbsp;labels)&nbsp;have&nbsp;been&nbsp;chosen.<br>
&nbsp;<br>
Parameters<br>
_______________<br>
path:<br>
&nbsp;&nbsp;path&nbsp;of&nbsp;the&nbsp;.gml&nbsp;file.<br>
batchsize:&nbsp;int<br>
&nbsp;&nbsp;the&nbsp;mini-batch&nbsp;size</tt></dd></dl>

</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-read_gml"><strong>read_gml</strong></a>(path)</dt><dd><tt>read&nbsp;from&nbsp;.gml&nbsp;file,&nbsp;which&nbsp;has&nbsp;the&nbsp;following&nbsp;format:<br>
&nbsp;&nbsp;line&nbsp;0:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;N&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;&nbsp;N&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;documents.<br>
&nbsp;&nbsp;line&nbsp;1...N:&nbsp;M&nbsp;L&nbsp;w_1&nbsp;w_2&nbsp;w_3&nbsp;...&nbsp;w_M&nbsp;;&nbsp;L&nbsp;is&nbsp;the&nbsp;label&nbsp;of&nbsp;the&nbsp;document,&nbsp;w_1,&nbsp;...,&nbsp;w_M&nbsp;are&nbsp;words.<br>
&nbsp;<br>
Parameters<br>
______________<br>
path:<br>
&nbsp;&nbsp;path&nbsp;of&nbsp;the&nbsp;.gml&nbsp;file.<br>
&nbsp;<br>
Returns<br>
_____________<br>
(docs,&nbsp;labels,&nbsp;word_set,&nbsp;label_set)<br>
&nbsp;<br>
docs:&nbsp;list<br>
&nbsp;&nbsp;documents,&nbsp;each&nbsp;doc&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;words.<br>
labels:&nbsp;list&nbsp;of&nbsp;int<br>
&nbsp;&nbsp;the&nbsp;corresponding&nbsp;labels&nbsp;for&nbsp;the&nbsp;docs.<br>
word_set:&nbsp;set<br>
&nbsp;&nbsp;set&nbsp;of&nbsp;words&nbsp;in&nbsp;the&nbsp;document<br>
label_set:&nbsp;set&nbsp;<br>
&nbsp;&nbsp;set&nbsp;of&nbsp;labels&nbsp;in&nbsp;the&nbsp;document</tt></dd></dl>
</td></tr></table>
</body></html>